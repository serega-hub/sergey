import telebot
import random
from config import token
bot = telebot.TeleBot(token)

money = ['Орел', 'Решка']

class Code:
    language = None 
    def info(self):
        return f'Язык: {self.language}'
    
@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.reply_to(message, "Привет яя твой телеграм бот \n<u>Вот что я умею:</u> \n/info - <i>информачия о боте</i> \n/help - <i>помошь</i> \n/heads_or_tails - <i>орел или решка</i> \n/nature_new_knowledge - <i>Нове знание о природе</i> \n/code - <i>Используется класс Code в нем есть переменная language которую вы можете менять.</i>", parse_mode='HTML')

@bot.message_handler(commands=['info'])
def send_infoo(message):
    bot.reply_to(message, "Этот бот сделан в качестве задания на курсе Python LVL 3")

@bot.message_handler(commands=['help'])
def send_heelp(message):
    bot.reply_to(message, "Вы можете посмотреть все команды нажав /start")

@bot.message_handler(content_types=['photo'])    
def fotografiya(message):

    if not message.photo:
        return bot.send_message(message.chat.id,'Вы забыли загрузить картинку :(')

    file_info = bot.get_file(message.photo[-1].file_id)
    file_name = file_info.file_path.split('/')[-1]
    downloaded_file = bot.download_file(file_info.file_path)
    with open(file_name, 'wb') as new_file:
            new_file.write(downloaded_file) 

@bot.message_handler(commands=['heads_or_tails'])
def send_hot(message):
    y = random.choice(money)
    bot.reply_to(message,y)

@bot.message_handler(commands=['nature_new_knowledge'])
def send_nature(message):
    bot.reply_to(message, "Про что вы хотелибы узнать? \n/recycling - <i>переработка</i> \n/decomposition - <i>разложение</i>",parse_mode='HTML')
    
@bot.message_handler(commands=['recycling'])
def send_recycling(message):
    bot.reply_to(message, "Переработка очень важна для нашего мира. \n<blockquote><u>Почему?</u> \nПотому что переработка может предотвратить захоронение потенциально полезных материалов и сократить потребление первичного сырья, тем самым снизив потребление энергии, загрязнение воздуха (от сжигания), загрязнение воды, загрязнение почвы (от захоронения).</blockquote> \n<u>Интересные факты про переработку:</u> \n1 - <i>Переработка 1 тонны стекла экономит 600 кг песка</i> \n2 - <i>Каждая тонна переработанной бумаги, картона и гофрокартона сохраняет 17 деревьев и 26500 литров воды, а также уменьшает загрязнение на 95%, благодаря экономии примерно 1750 литров нефти (11 баррелей).</i> \n3 - <i>Переработка одной алюминиевой банки сохраняет энергию, равную 0,2 литра бензина.</i>",parse_mode='HTML')

@bot.message_handler(commands=['decomposition'])
def send_nature(message):
    bot.reply_to(message, "Разложение это : <i>разрушение, распад сложного объекта на составляющие.</i> \n<u>Время разложение некоторых предметов:</u> \n<b>Виды</b>                                    <b>Период разложение</b> \nПищевые отходы            до 1 месяца \nГазетная бумага              до 1 года \nБумага                                 2 года \nКартонные коробки      до 1 года \nЖелезные банки              до 10 лет \nАвтоаккумуляторы        до 100 лет \nАлюминиевые банки    500 лет \nСтекло                                  более 1000 лет",parse_mode='HTML')

@bot.message_handler(commands=['code'])
def send_carclass(message):
    bot.reply_to(message, 'Выберете язык кода. \n/python - Python \n/unity - Unity' )
    
@bot.message_handler(commands=['python'])
def send_python(message):
    code_1 = Code()
    code_1.language = 'Python'
    bot.reply_to(message, code_1.info())

@bot.message_handler(commands=['unity'])
def send_unity(message):
    code_2 = Code()
    code_2.language = 'Unity'
    bot.reply_to(message, code_2.info())


@bot.message_handler(func=lambda message: True)
def echo_message(message):
    bot.reply_to(message, message.text)            

bot.polling()
